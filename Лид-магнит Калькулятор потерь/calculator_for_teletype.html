<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø–æ—Ç–µ—Ä—å –Ω–∞ –æ—Ç–∑—ã–≤–∞—Ö WB</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .calculator-container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        h1 {
            font-size: 28px;
            color: #2d3748;
            margin-bottom: 10px;
            text-align: center;
        }

        .subtitle {
            text-align: center;
            color: #718096;
            margin-bottom: 30px;
            font-size: 16px;
        }

        .input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .hint {
            font-size: 12px;
            color: #a0aec0;
            margin-top: 4px;
        }

        input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s;
        }

        input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .calculate-btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 20px;
            transition: transform 0.2s;
        }

        .calculate-btn:hover {
            transform: translateY(-2px);
        }

        .calculate-btn:active {
            transform: translateY(0);
        }

        .results {
            display: none;
            margin-top: 30px;
            padding: 30px;
            background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
            border-radius: 15px;
            border: 3px solid #dc2626;
        }

        .results.show {
            display: block;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .results h2 {
            text-align: center;
            color: #dc2626;
            margin-bottom: 20px;
            font-size: 24px;
        }

        .loss-item {
            padding: 15px;
            background: white;
            border-radius: 10px;
            margin-bottom: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .loss-item .label {
            font-weight: 600;
            color: #2d3748;
        }

        .loss-item .amount {
            font-weight: 700;
            color: #dc2626;
            font-size: 18px;
        }

        .total-loss {
            margin-top: 20px;
            padding: 20px;
            background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
            border-radius: 12px;
            text-align: center;
        }

        .total-loss .label {
            color: white;
            font-size: 16px;
            margin-bottom: 8px;
        }

        .total-loss .amount {
            color: white;
            font-size: 36px;
            font-weight: 800;
        }

        .yearly-loss {
            text-align: center;
            color: #dc2626;
            margin-top: 15px;
            font-size: 16px;
            font-weight: 600;
        }

        .cta-section {
            margin-top: 30px;
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
            border-radius: 15px;
            border: 3px solid #16a34a;
        }

        .cta-section h3 {
            color: #16a34a;
            margin-bottom: 15px;
            font-size: 22px;
        }

        .cta-section p {
            color: #2d3748;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .cta-btn {
            display: inline-block;
            padding: 16px 40px;
            background: #16a34a;
            color: white;
            text-decoration: none;
            border-radius: 10px;
            font-weight: 600;
            font-size: 18px;
            transition: all 0.3s;
        }

        .cta-btn:hover {
            background: #15803d;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(22, 163, 74, 0.3);
        }

        @media (max-width: 768px) {
            .calculator-container {
                padding: 25px;
            }

            h1 {
                font-size: 24px;
            }

            .total-loss .amount {
                font-size: 28px;
            }
        }
    </style>
</head>
<body>
    <div class="calculator-container">
        <h1>üí∞ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø–æ—Ç–µ—Ä—å –Ω–∞ –æ—Ç–∑—ã–≤–∞—Ö</h1>
        <p class="subtitle">–í–≤–µ–¥–∏ 5 —Ü–∏—Ñ—Ä ‚Äî —É–∑–Ω–∞–µ—à—å —Ç–æ—á–Ω—É—é —Å—É–º–º—É –ø–æ—Ç–µ—Ä—å –∑–∞ 2 –º–∏–Ω—É—Ç—ã</p>

        <form id="calculatorForm">
            <div class="input-group">
                <label for="reviewsPerMonth">–°–∫–æ–ª—å–∫–æ –æ—Ç–∑—ã–≤–æ–≤ –≤ –º–µ—Å—è—Ü —Ç—ã –ø–æ–ª—É—á–∞–µ—à—å?</label>
                <input type="number" id="reviewsPerMonth" name="reviewsPerMonth" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 80" required>
                <div class="hint">–ü–æ—Å–º–æ—Ç—Ä–∏ –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ WB –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –º–µ—Å—è—Ü</div>
            </div>

            <div class="input-group">
                <label for="timePerReview">–°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ —É—Ö–æ–¥–∏—Ç –Ω–∞ 1 –æ—Ç–∑—ã–≤? (–º–∏–Ω—É—Ç)</label>
                <input type="number" id="timePerReview" name="timePerReview" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 3" required>
                <div class="hint">–í–∫–ª—é—á–∞—è —á—Ç–µ–Ω–∏–µ, –æ–±–¥—É–º—ã–≤–∞–Ω–∏–µ, –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞</div>
            </div>

            <div class="input-group">
                <label for="monthlyRevenue">–ö–∞–∫–æ–π —É —Ç–µ–±—è –º–µ—Å—è—á–Ω—ã–π –æ–±–æ—Ä–æ—Ç –Ω–∞ WB? (‚ÇΩ)</label>
                <input type="number" id="monthlyRevenue" name="monthlyRevenue" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 800000" required>
                <div class="hint">–í —Ä—É–±–ª—è—Ö, –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤</div>
            </div>

            <div class="input-group">
                <label for="processedPercent">–°–∫–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ –æ—Ç–∑—ã–≤–æ–≤ —Ç—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å?</label>
                <input type="number" id="processedPercent" name="processedPercent" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 70" min="0" max="100" required>
                <div class="hint">–ß–µ—Å—Ç–Ω–æ, —Å–∫–æ–ª—å–∫–æ —É—Å–ø–µ–≤–∞–µ—à—å –æ—Ç–≤–µ—Ç–∏—Ç—å</div>
            </div>

            <div class="input-group">
                <label for="currentRating">–ö–∞–∫–æ–π —É —Ç–µ–±—è —Ç–µ–∫—É—â–∏–π —Ä–µ–π—Ç–∏–Ω–≥ –Ω–∞ WB?</label>
                <input type="number" id="currentRating" name="currentRating" step="0.1" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 4.6" min="1" max="5" required>
                <div class="hint">–°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥ —Ç–æ–≤–∞—Ä–æ–≤</div>
            </div>

            <button type="submit" class="calculate-btn">üî• –ü–æ—Å—á–∏—Ç–∞—Ç—å –º–æ–∏ –ø–æ—Ç–µ—Ä–∏</button>
        </form>

        <div id="results" class="results">
            <h2>üí∏ –¢–í–û–ò –ï–ñ–ï–ú–ï–°–Ø–ß–ù–´–ï –ü–û–¢–ï–†–ò</h2>

            <div class="loss-item">
                <div class="label">‚è∞ –ü–æ—Ç–µ—Ä–∏ –≤—Ä–µ–º–µ–Ω–∏:</div>
                <div class="amount" id="timeLoss">0 ‚ÇΩ/–º–µ—Å</div>
            </div>

            <div class="loss-item">
                <div class="label">üìâ –£–ø—É—â–µ–Ω–Ω–∞—è –ø—Ä–∏–±—ã–ª—å:</div>
                <div class="amount" id="lostProfit">0 ‚ÇΩ/–º–µ—Å</div>
            </div>

            <div class="loss-item">
                <div class="label">üìä –ü–æ—Ç–µ—Ä–∏ –æ—Ç –Ω–∏–∑–∫–æ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∞:</div>
                <div class="amount" id="ratingLoss">0 ‚ÇΩ/–º–µ—Å</div>
            </div>

            <div class="loss-item">
                <div class="label">‚ö†Ô∏è –®—Ç—Ä–∞—Ñ—ã WB:</div>
                <div class="amount" id="penalties">0 ‚ÇΩ/–º–µ—Å</div>
            </div>

            <div class="total-loss">
                <div class="label">üî• –û–ë–©–ò–ï –ü–û–¢–ï–†–ò:</div>
                <div class="amount" id="totalLoss">0 ‚ÇΩ –í –ú–ï–°–Ø–¶</div>
            </div>

            <div class="yearly-loss">
                –ó–∞ –≥–æ–¥ —Ç—ã —Ç–µ—Ä—è–µ—à—å: <span id="yearlyLoss">0 ‚ÇΩ</span>
            </div>

            <div style="margin-top: 30px; text-align: center; padding: 25px; background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%); border-radius: 15px; border: 3px solid #16a34a;">
                <h3 style="color: #16a34a; margin-bottom: 15px; font-size: 22px;">üò± –û—Ö—Ä–µ–Ω–µ—Ç—å, –¥–∞?</h3>
                <p style="color: #2d3748; margin-bottom: 15px; line-height: 1.6;">–•–æ—á–µ—à—å <strong>–≤–µ—Ä–Ω—É—Ç—å —ç—Ç–∏ –¥–µ–Ω—å–≥–∏</strong>? –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –æ—Ç–∑—ã–≤–æ–≤ –æ–∫—É–ø–∞–µ—Ç—Å—è –∑–∞ 2 –¥–Ω—è.</p>
                <p style="color: #2d3748; font-size: 18px; font-weight: 600;">üëâ –ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É ‚Äî —Å–º–æ—Ç—Ä–∏ –Ω–∏–∂–µ –ø–æ –∫–Ω–æ–ø–∫–µ</p>
            </div>
        </div>
    </div>

    <script>
        document.getElementById('calculatorForm').addEventListener('submit', function(e) {
            e.preventDefault();

            // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–æ—Ä–º—ã
            const reviewsPerMonth = parseFloat(document.getElementById('reviewsPerMonth').value) || 0;
            const timePerReview = parseFloat(document.getElementById('timePerReview').value) || 0;
            const monthlyRevenue = parseFloat(document.getElementById('monthlyRevenue').value) || 0;
            const processedPercent = parseFloat(document.getElementById('processedPercent').value) || 0;
            const currentRating = parseFloat(document.getElementById('currentRating').value) || 0;

            // –†–ê–°–ß–Å–¢ 1: –ü–æ—Ç–µ—Ä–∏ –≤—Ä–µ–º–µ–Ω–∏
            const hourlyRate = monthlyRevenue / 160; // –°—Ç–æ–∏–º–æ—Å—Ç—å —á–∞—Å–∞ = –æ–±–æ—Ä–æ—Ç / 160 —Ä–∞–±–æ—á–∏—Ö —á–∞—Å–æ–≤
            const totalMinutesPerMonth = reviewsPerMonth * timePerReview;
            const totalHoursPerMonth = totalMinutesPerMonth / 60;
            const timeLoss = totalHoursPerMonth * hourlyRate;

            // –†–ê–°–ß–Å–¢ 2: –£–ø—É—â–µ–Ω–Ω–∞—è –ø—Ä–∏–±—ã–ª—å
            const unprocessedPercent = 100 - processedPercent;
            const unprocessedReviews = (reviewsPerMonth * unprocessedPercent) / 100;

            // –û—Ü–µ–Ω–∏–≤–∞–µ–º —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫: ~25% –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π –æ—Å—Ç–∞–≤–ª—è—é—Ç –æ—Ç–∑—ã–≤—ã
            const estimatedOrders = reviewsPerMonth / 0.25;
            const averageCheck = monthlyRevenue / estimatedOrders;

            // –ö–∞–∂–¥—ã–π –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –æ—Ç–∑—ã–≤ = –ø–æ—Ç–µ—Ä—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø–æ–∫—É–ø–∫–∏
            // 50% –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –Ω–µ –≤–µ—Ä–Ω—É—Ç—Å—è –∑–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø–æ–∫—É–ø–∫–æ–π
            const lostProfit = unprocessedReviews * averageCheck * 0.5;

            // –†–ê–°–ß–Å–¢ 3: –ü–æ—Ç–µ—Ä–∏ –æ—Ç –Ω–∏–∑–∫–æ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∞
            let ratingLoss = 0;
            if (currentRating > 0 && currentRating < 4.9) {
                const ratingDeficit = 4.9 - currentRating;
                const percentLoss = ratingDeficit * 10 * 5; // –ö–∞–∂–¥—ã–µ -0.1 = -5% –ø—Ä–æ–¥–∞–∂
                ratingLoss = (monthlyRevenue * percentLoss) / 100;
            }

            // –†–ê–°–ß–Å–¢ 4: –®—Ç—Ä–∞—Ñ—ã WB
            let penalties = 0;
            if (currentRating > 0 && currentRating < 4.5 && reviewsPerMonth > 30) {
                penalties = monthlyRevenue * 0.02; // 2% —à—Ç—Ä–∞—Ñ
            }

            // –ò–¢–û–ì–û
            const totalLoss = timeLoss + lostProfit + ratingLoss + penalties;
            const yearlyLoss = totalLoss * 12;

            // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º —á–∏—Å–ª–∞
            function formatCurrency(amount) {
                return Math.round(amount).toLocaleString('ru-RU');
            }

            // –í—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            document.getElementById('timeLoss').textContent = formatCurrency(timeLoss) + ' ‚ÇΩ/–º–µ—Å';
            document.getElementById('lostProfit').textContent = formatCurrency(lostProfit) + ' ‚ÇΩ/–º–µ—Å';
            document.getElementById('ratingLoss').textContent = formatCurrency(ratingLoss) + ' ‚ÇΩ/–º–µ—Å';
            document.getElementById('penalties').textContent = formatCurrency(penalties) + ' ‚ÇΩ/–º–µ—Å';
            document.getElementById('totalLoss').textContent = formatCurrency(totalLoss) + ' ‚ÇΩ –í –ú–ï–°–Ø–¶';
            document.getElementById('yearlyLoss').textContent = formatCurrency(yearlyLoss) + ' ‚ÇΩ';

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            document.getElementById('results').classList.add('show');

            // –ü–ª–∞–≤–Ω–æ —Å–∫—Ä–æ–ª–ª–∏–º –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º
            setTimeout(() => {
                document.getElementById('results').scrollIntoView({
                    behavior: 'smooth',
                    block: 'nearest'
                });
            }, 300);
        });
    </script>
</body>
</html>

