приветствую если занимаетесь продажами на Wibberриies то наверняка знаете что подсчёт реальной прибыли - это тот ещё квест сегодня давайте разберёмся как можно раз и навсегда покончить с этой рутиной и начать получать абсолютно ясные цифры причём в автоматическом режиме ну что давайте по-честному каждую неделю ведь одно и то же садишься и начинаешь считать а что в итоге осталось после всех комиссий логистики возвратов уверен многим знакомо это головная боль вот просто задумайтесь на секунду сколько чистого времени уходит на это еженедельно не примерно а вот честно если засечь ведь что это за процесс сначала скачать отчёты потом вручную вычесть всю логистику затем вычесть возвраты потом найти в какой-то другой таблице себестоимость для каждого артикула посчитать налоги и так по новой каждую неделю это же настоящий конвейер ручных монотонных операций в среднем у продавцов это отнимает минут 15-20 казалось бы ерунда но давайте посчитаем за месяц это уже больше часа драгоценного времени а за год за год набегает больше половины полноценного рабочего дня который потрачен просто на сверку цифр но знаете потерянное время - это лишь верхушка айсберга самая настоящая опасность кроется в другом в неточности ведь примерные цифры ведут к очень даже реальным убыткам и это кстати не теория вот цитата одного из продавцов в таком формате мы получаем лишь приблизительную чистую себестоимость а мне нужны были точные цифры так как позиций много и ведь он абсолютно прав опираться на примерные данные - это всё равно что пытаться управлять бизнесом с завязанными глазами а теперь давайте просто посмотрим на этот контраст слева ручной способ это постоянная трата времени вечные сомнения в цифрах высокий риск ошибки и что самое страшное убыточные товары которые просто теряются в общей массе а справа автоматизация 0 минут вашего участия 100% точные данные полная надёжность и кристальная ясность по прибыли каждого товара разница по-моему колоссальная и вот ключевой вопрос который стоит себе задать как вообще можно уверенно масштабировать бизнес если сам фундамент то есть финансовые данные такой шаткий ответ мне кажется очевиден но есть отличная новость решение существует и оно гораздо проще чем кажется давайте посмотрим как можно настроить себе такого персонального автоаналитика который будет работать легко точно и без выходных просто вообразите на секунду у вас появился личный помощник ему не нужно напоминать он сам собирает все данные сам считает чистую прибыль по каждой продаже и скажем каждое воскресенье присылает готовый идеальный отчёт звучит как мечта да а это уже реальность так как же вся эта магия работает на практике на самом деле всё сводится к четырём очень простым шагам от хаоса сырых данных к полной ясности итак шаг первый сбор данных система сама через официальный API забирает у Wberриies все финансовые операции за неделю шаг второй - фильтрация все эти записи продажи логистика возвраты всё это автоматически раскладывается по полочкам третий и это самый важный шаг - расчёт прибыли вот здесь каждая продажа соединяется со своей точной себестоимостью из вашей Google таблицы и наконец четвёртый шаг - доставка отчёта готовый результат отправляется в Google Shits для глубокого анализа и краткой сводкой прямо в Telegram давайте чуть подробнее остановимся на третьем шаге потому что это сердце всей системы этот процесс можно назвать слиянием это тот самый критический момент когда два потока данных отчёты Wibberies и ваша таблица с себестоимостью объединяются система просто берёт артикулы зачёта о продажах находит точно такой же артикул в вашей таблице себестоимостью сопоставляет их и именно так вычисляет точную чистую прибыль по каждой проданной штуке никаких примерно только голые факты и что же мы получаем в итоге а в итоге мы получаем мгновенную ясность весь бизнес как на ладони вот посмотрите на живой пример такого отчёта в Google Sheets мы видим не просто какие-то общие цифры по каждой позиции полная раскладка а теперь внимание на последнюю строку товар Another Item продан в мину 30 руб без такой детальной аналитики этот убыток мог бы неделями оставаться незамеченным потихоньку съедая общую прибыль а для тех кто постоянно в движении краткая сводка прилетает прямо в Telegram открыли телефон и за 5 секунд ясны главные цифры недели чисто прибыль сколько ушло на логистику какой налог всё можно принимать решение где бы вы ни находились так что же по факту даёт это ясность считайте что это новые суперспособности можно мгновенно выявлять убыточные товары и вовремя принимать по ним решения можно менять цены основываясь на реальной маржинальности а не на интуицию можно освободить часы времени каждый месяц для стратегии а не для рутины и самое главное можно строить рост бизнеса на прочном фундаменте из стопроцентно точных данных звучит отлично но как получить такой же инструмент для своего бизнеса как взять наконец аналитику под полный контроль всё максимально просто чтобы получить консультацию по настройке такого автоматического отчёта нужно просто написать кодовое слово профит в Telegram по контакту который виден на экране никаких сложных анкет просто одно слово и в завершении хочу оставить вас с одним вопросом просто представьте если бы вся рутина которая съедает время и внимание была полностью устранена какие действительно важные стратегические задачи для роста бизнеса вы бы начали решать в первую очередь


Полное пояснение лид магнит 
Мне приходилось считать мою чистую уже фактическую чистую прибыль достаточно в таком сложном формате. И сейчас я покажу в каком конкретно. То есть у меня здесь есть сам кабинет от Валбегриса, да, где я, условно говоря, перехожу на страницу финансовые отчёты. Здесь у меня условно я считаю к перечислению продавцу за реализованный товар 3.064 минусую отсюда логистику и минусую себестоимость товара. От этой суммы я ещё высчитываю налог, и в итоге получается у меня сама чистая прибыль. Конечно, можно в данном формате подготовить определённую таблицу, да, сводную, где у меня будет себестоимость наименований, да, а сколько только реализовал каждую продажу и оттуда также высчитывая среднюю логистику, да, то есть и все эти данные, грубо говоря, суммировать, но в таком случае мы будем получать приблизительную чистую себестоимость. То есть, а, мне нужна, так как у меня позиций много и так как они с от заказа к заказу здесь немного варьируются, да, то есть иногда с сумма логистики немножко больше, иногда здесь от логистики попадают и те товары, где приходит возврат или же отказ от товара, да, там брак и так далее. То есть, а, подсчитывать эту таблицу вручную у меня занимало в районе, ну, 15-20 минут каждую неделю. Поэтому я придумал вот такой вот который, собственно говоря, делает всё это за меня и в конце ещё выводит её вот в такую вот таблицу, где я сразу же могу посчитать те минусовые позиции, которые у меня были в течение недели, и уже откорректировать в самом кабинете себестоимость от Валвириса. Итак, приступим к созданию такого бота. Вот. В целом он достаточно сложный оказался. Вот. Потому как не всё так просто с этим M8. Сразу же скажу, что данное видео будет поделено на две части, вот, дабы уложиться немного в тайминге. Итак, что нам потребуется? Сам кабинет N8N, естественно, и Valberis API, который мы с вами разбирали в предыдущем уроке. Заходим на страничку интеграция по апе нажимаем на кнопочку создать токен. Здесь выбираем для интеграции вручную базовый токен. И здесь выбираем статистику. Вводим рандомное в целом название и вкладочку только для чтения. Всё, нажимаем на создать токен. Данный токен копируем его в какую-то отдельную вкладку, потому как он после того, как я нажму на скопировать и завершить, больше нигде не отобразится. И переходим к созданию самого бота. О'кей, начинаем мы с того, что создаём триггер, обычный мануальный триггер, к которому мы подключаем ноду HTTP, дабы вытянуть все данные за а предыдущую неделю, по крайней мере. Создаём ноду HTTP, метод оставляем get URL предоставляем стоковую от самого Valber, дабы вытянуть всю эту статистику. В аутентификации выставляем generic redental type и здесь header out, а для того, чтобы мы подключили туда наши креты credental. Здесь нажимаем на вкладочку, нажимаем New Credental и вставляем nameorization. И в Valставляем как раз-таки наш IP token. После чего нажимаем на кнопочку save и переходим к следующим параметрам. Здесь вставляем ползнок sendм вставлять те параметры, которые, собственно говоря, нам нужно оттуда вытянуть. Первое - это будет data from. И здесь я прописываю условно тот код, который будет 8 дней до сегодняшнего дня, да, дабы взять неделю. То есть 8 дней до и один день до нас. То есть вот этот промежуток, где будет условно та же самая неделя. Поэтому код будет выглядеть вот так вот. А дальше добавляем от следующий параметры. Код выглядит точно так же. Единственное, что здесь я меняю с восьмёрочки на единицу, соответственно, чтобы взять как раз-таки этот промежуток времени в неделю. Дальше add параметр период daily. Дальше R rit вставляем ноль. В целом всё здесь оно готово. Тестим, посмотрим, подтянутся ли у нас наши отчёт за последнюю неделю. О'кей. Да, мы видим, что у нас потянулось очень большое количество всех данных, нужных и ненужных, поэтому мы сейчас будем их фильтровать с помощью следующей ноды if как раз-таки по а продажам и всё, что не является продажами. Код внутри будет выглядеть таким образом: Jon Doc type NameQL2 продажа. Нажимаем на кнопочку Execute и видим, что у нас во вкладке True как раз же таки отображаются все продажи непосредственно, которые есть. И во вкладочке FSE все не продажи. Это может быть логистика, это может быть возвраты, это может могут быть в целом всё остальное. А сейчас сделаем самую простую ветку. Это будет ветка FSEs данную стрелочку мы под диня, ну, берём её, перетаскиваем и подключаем её к нодикод, в который мы уже, а, непосредственно отфильтровываем только логистику, потому как данная ветка у нас будет чисто за логистику отвечать и сверху будет отвечать чисто за продажи. Код будет выглядеть следующим образом, как раз-таки, который будет отфильтровывать, ещё раз повторюсь, чисто только логистику. Нажимаем на кнопочку Exec и видим, что из че из 469 айтемов у нас как разтаки отфильтровалось это всё чисто по логистике. Мы её на всякий случай переименуем в только логистику. Нажимаем на save. И теперь у нас есть большое количество значения, которое являются чисто логистикой. Поэтому мы переходим дальше к подсчёту. То есть мы будем брать все вот эти вот данные, да, logistic cost и суммировать их с друг другом. И посмотрим, какая сумма у нас выйдет. Добавляем также ноду код. Вставляем данное значение, которое как раз-таки будет суммировать весь столбец logistic cost. Нажимаем ещё раз на кнопочку exill. И в итоге у нас вышел один айтем. И сумма здесь как раз-таки вот 9.000 4999,99 коп. вышла. То есть это вся сумма за логистик за последнюю а неделю. О'кей. А здесь с данной веткой мы пока что разобрались. И переходим сейчас на ветку выше, которая для подсчёта непосредственно продаж. Она немного более сложная. Вот. Но мы как раз-таки сейчас с ней будем разбираться. А здесь вставляем, а перетаскиваем, точнее, ползно от true, а к следующей ноте, которая тоже будет код, который будет также считать только продажи, потому как здесь мы их уже отфильтровали от продаж, да, но у нас здесь есть небольшой нюанс, а заключающийся в том, что только продажи, он их почему-то вносит в вот видите, здесь есть продажа, по которым у нас отфильтровывала нода if. Но также в в этих продажах у нас есть значения, которые которые по факту идут как возмещение за выдачу возвратов товаров на ПВЗ. И нам этот дополнительный пункт тоже нужно отфильтровать, дабы отсоединить как раз же таки эти возмещения за выдачу и возврат товаров на ПВЗ от самой чистой продажи. Поэтому сюда мы вставляем ещё один код, нажимаем на кнопочку Exec и видим, что на данный момент у нас как раз-таки 82 айтема отфильтровалось. То есть из 112 он отфильтровал до 82. О'кей, идём дальше. А дальше у нас будет одна из самых, так сказать, сложных частей в плане просто время затрат, потому что мы должны будем дать щит вместе с SKU товаров, да, то есть сейчас я покажу. То есть у нас есть определённое количество товаров, да, которые у нас есть. И нам на каждый этот товар нужно, так сказать, подставить себе стоимость, дабы следующий механизм он проработал таким образом, а где будет брать стоимость, по которой товар продался на Валберисе, потом себестоимость от самого товара, а сверять их по SKU и дальше мы будем её прогонять по длинейшему механизму. Поэтому как здесь собственно говоря сам этот процесс выглядит. Мы вставляем за заглушку в тоже в виде ноды код. Здесь его сначала переименовываем. Вставляем заглушку через следующую ноду код. Код код максимально простой, дабы при выдаче у нас просто был zero item, ноль айтема. То есть вот здесь item is empty. Это тот результат, который нам нужно добиться, дабы, а, когда он брал данные из ноды sheиs, а как раз-таки у нас все эти 82 штуки не проходили дальше по ветке. А после данной ноды мы вставляем ноду щит, которой предварительно подготавливаем. Как это конкретно делается? Мы создаём а пустую таблицу sheтs. Как-нибудь её называем. Допустим, отчёт S пусть будет. Вот так. Дальше добавляем K и cost. K - это будет наш SKU. Cost - это себестоимость. И сейчас идёт достаточно кропотливая работа, где мы берём данный SKU, зажимаем Ctrl C, вставляем его в K и прописываем здесь себестоимость. То есть я понимаю, что здесь у меня идёт метальные лепестки 200 г, они у меня стоят в себестоимости 400 руб. То есть здесь я вставляю 400 руб. И, соответственно, нам нужно весь этот процесс проделать со всеми товарами, что является достаточно муторным и геморойным. Поэтому, а, дабы здесь продолжить цепочку, я подготовил заранее уже немного другую таблицу с немного другими трендами, поэтому я переключусь на неё, чтобы было более понятно. В итоге таблица у нас будет выглядеть вот таким вот образом, где идёт Kкоost и наименование SKU, да, и себестоимость всех позиций. Здесь, соответственно, на данном аккаунте здесь будет в районе 200 таких акюшек, да, которые а нужны будут для сравнения цены продажи и цены себестоимости. О'кей. А я немного здесь поменял креды на другие, потому как одна таблица у меня готова, другая нет. И продолжим с данного момента, где мы подключаем здесь а ноду Google Sheets Getrow. Здесь Выставляем, соответственно, тот лист, который мы только что сделали. Это будут у меня SKU себестоимость и лист первый. Соответственно, нажимаем на кнопочку Execute и видим как раз-таки, что у нас отобразились 89 айтемов, что как раз-таки равноценно данным MSKU, да, здесь 90, но так как у нас идёт первая строка, у нас будет 89. О'кей. От этого момента мы отталкиваемся как раз же таки создаём ноду меж а которая будет как раз-таки соединять а наши SKU а по только продажам и SKU, а, которые будут отображаться у нас в Google Sheets. Здесь у нас это будет выглядеть с образом номер нужно будет слегка поднастроить в формате combine здесь вставляем matching files files to match have different namesставляем галочку а здесь input file 1 выставляем k и здесь в input file 2 вставляем supler артикle что будет равноценен суплер артикл в но где он просто меняет наименование sku да на sul artic ar articicle о'кей дальше добавляем вкладочку add option и здесь выставляем always add input number all to files namну physicum payer и добавляем здесь галочку, нажимаем на кнопочку execute и видим, что у нас здесь пришло 44 айтема. Как раз таки те продажи, которые у нас были, да, в предыдущем бы было 89, да, но так как я немного изменил креды и продажа было чуть-чуть меньше, соответственно, здесь не 89, а продаж у нас было А44. Соответственно, здесь первая часть подходит к концу. Всем спасибо, кто смотрел. Всем пока. Чистой прибыли на Валберисе. А в прошлом уроке мы остановились на ноды Merge, а где у нас непосредственно два было связующих элемента. Первый - это из Google Sheets. Мы перетянули SK, которые нужны были для сравнения с проданными товарами с самого Валбериса. Соответственно, а в момент, когда нодами Mirge сработала, мы видим то, что вот он K, да, а 228 228 227, то есть, соответственно, это SKU и а проданный непосредственно товар с Валбериса, да, то есть вот здесь вот за 1.385, 1.386 1.38539. Здесь я понимаю, что вот данные четыре позиции - это один и тот же товар был продан. А после чего мы переходим также к к следующему SKU 220 вот 7, 226, 232 и так далее. То есть он взял 43 айтема, а 43, точнее, товара. И вот здесь как раз же таки мы видим в Cost 1 это и является себестоимость. То есть здесь себестоимость 900, да? То есть авари реализовал а за 1.385. Соответственно, всё, данная ветка готова. И мы переходим дальше. А дальше, соответственно, нам нужно посчитать чистую прибыль, то есть да payout to seller 2, да, то есть то, сколько а нам начислили на вывод денег и а cost один, то есть себестоимость товара. А как мы это делаем? Мы делаем с помощью ноды код. Добавляем ноду код. А код in JavaScript здесь, а, Ctrl C, Ctrl V. Здесь вставляем, а, собственно говоря, такой код, который как раз-таки будет считать. Да, то есть слетва и минусовать от cost 1. Нажимаем на кнопочку Execute Step и видим, что здесь он как разтаки всё это дело посчитал. И у нас здесь образовался Total Profit в 12.549,89. А, соответственно, эта цена, она ещё не полная, поэтому нам от неё ещё нужно отминусовать налог и нам от неё нужно отминусовать ещё логистику, соответственно. Поэтому, как мы поступаем дальше? Мы берём, создаём ещё одну ветку а merch. Здесь выбираем метод choose branch и здесь оставляем number of inputs 2, так как у нас должны прийти две суммы, да, то есть суммирование логистики. И здесь её сейчас переименуем на прибыль до логистики. Соответственно, здесь мы это дело подсоединяем, нажимаем на save, а, проводим весь наш, э, всю нашу цепочку. А дальше здесь у нас не отобразится как бы наша предыдущая, да, то есть нода от суммирования логистики, но она как бы будет учтена в памяти. Соответственно, к ней мы подсоединяем ещё следующую ноду код. И а здесь этот код как раз же таки будет минусовать Total Profit от э логистики, да, то есть данную сумму минус эту. Код будет выглядеть таким образом. И нажимаем ещё раз на кнопочку Execute Step. И мы видим, как разжи такие Total profit за без учёта ещё налога. То есть мы эту видим сумму а прибыль до логистики, да? То есть здесь мы видим прибыль после логистики, но ещё до вычетом налога. И нам осталось в конечном итоге посчитать сумму налога. Как это делается здесь? На всякий случай, чтобы не запутаться, переименуем в прибыль до налогов. Нажимаем на всякий случай save, чтобы всё это дело сохранить. Итак, сейчас нам нужно как раз жетаки а просчитать налог, как конкретно это делается. То есть в Валберисе мы считаем сумму непосредственно с VB Sold, то есть за сколько продал данный товар. Поэтому мы от только продажи перетаскиваем ползунок вверх. И здесь, а, выбираем ноду Самарис. То есть здесь как раз же таки нода для подсчёта, но в предыдущих я использовал ноду код. Вот мне просто из в таком формате немного удобней. Итак, здесь мы выбираем, а, count, меняем с кау на сум и в fil выбираем vb salt am, ну, то есть vb. Вот он здесь он есть. Нажимаем на кнопочку execute step. Здесь он нам посчитал, соответственно, всю данную сумму. И теперь мы берём от этой суммы, соответственно, аа, умножаем её на 0.07%, да? Ну, обычный налог, там идёт 6%, естественно. Вот. Но свыше 300.000 идёт 7%. Ну, кто знает, тот знает. А, соответственно, мы берём дальше перетаскиваем в ноду Edit Files или же Set. Здесь вставляем имя того, что у нас придёт. В моём случае будет это T 7. Здесь, а, м, из strбираем number и вставляем вот такой вот код. Вот, соответственно, здесь у нас результат получился 3.000 161 руб. и 23 коп. Соответственно, ждём, пока данная нода заработает. Доработает. О'кей. И на выходе мы коротаки получили наши налоги, да? То есть, что является, а, суммой реализованных продаж с Валбриса и умножение на это всё на 0.07%. О'кей. Теперь нам, соответственно, нужно будет данную сумму а, сложить вместе с прибыль, а, до налогов, как бы всё то же самое, что мы сделали и вот в данной номе. Поэтому мы здесь подсоединяем merch, также режим choose branch. Подсоединяем нашу вторую ветку, прибыль до налогов. Нажимаем на save. Ждём, пока NODA merge доработает. А, видим, что он здесь перенёс только налоги. Вот. Но ничего страшного. Главное, что он здесь ветка здесь заработала. И, соответственно, мы можем, а, приступить к подсчёту чистой прибыли. Соответственно, мы берём, а, прибыль до налогов, минусуем её от Edit Files, да, с помощью, а, ноды код. О'кей. А данная нода нам посчитала, то есть сумму за вычетом налогу налога и сумму, где мы считаем налог, и вывела её в целом вот в Total Profit. Сейчас. А как сделать так, чтобы оно оно передалось передалось нам в сообщение? Всё просто. Мы вписываем Telegram Centж выбираем наши креды из Telegram app. Chat ID. Используем наш чат ID и текст. Вводим вот вот прибыль за вот прибыль за сегодняшнюю неделю. И подстав сюда проIT, соответственно. Всё. И теперь, когда мы нажимаем, нажмём на кнопочку Execute, нам придёт сообщение, где нам бот пришлёт вот прибыль за сегодняшнюю неделю. Зациклить этот процесс. Вот. Но и в принципе всё. Но на этом я не хочу останавливаться и сделать так, чтобы если вдруг у меня были какие-то минусовые позиции, соответственно, я бы их смог выявить и быстро откорректировать. Поэтому я предварительно создал щит втаблицу, да, где у У меня здесь есть, а, а, колонки под названием, да, то есть продажа, SKU, себестоимость, перечислению, название, разница, соответственно, это будет перечислению за товар минус SKU, да, ой, минус себестоимость. Соответственно, дальше логистика в среднем. Я просто-напросто беру, данная сумма не особо будет отличаться от недели к неделю, потому как там плюс-минус суммируется всё до единого целого. Соответственно, я здесь смотрю, сколько у меня было продаж всего, да, то есть это можно просмотреть, условно здесь 43 штуки, а потом беру сумму логистики, то есть 5.64 руб., и делю её на, а, 43 продажи. То есть у меня там сумма выходит 121-125. в среднем рублей. Потом идёт прибыль логистики, да, то есть то, что мы делали, соответственно, в N8N, ну и в целом и так далее, да, налог, чистая прибыль, то есть здесь суммирование всех этих колонок. И здесь сейчас заключался вопрос в том, как конкретно мне перевести, собственно говоря, вот эти вот данные еженедельно в вот в данную в колонку. Я потратил много времени, на самом деле, для того, чтобы узнать это, потому как а с просто-напросто нодой, а просто-напросто, если мы подсоединяем сюда, да, то есть вводим sheets up and row in sheet, да, то есть добавить строку в нашем sheт. Здесь выбираем, а, соответственно, наши креды. её себестоимость, недельный отчёт по продажам, да, то есть выбираем его здесь. Здесь, естественно, мы перетаскиваем, да, все эти дела ненужные колонки, соответственно, удаляем. Ой, не с того перенёс, не с того перенёс. А вот сноми подсоединяем условно сейчас продажа, продажа валбреса SKU, себестоимость к перечислению и название. О'кей. Как только мы здесь делаем это таким образом, да, нажимаем на кнопочку execute, нам оно якобы перечислилось всё. Но по факту, что мы имеем? Мы по факту имеем то, что он не перечисляет их в самое начало, а перечисляет в самый конец. То есть и потому как он воспринимает вот вот данный вот как, ну, то есть вот данную строку как, ну, финальную, да, то есть то, что нужно добавлять после неё. Дальше я подумал, тем самым же есть здесь нода up and or update row, да, то есть заменить или обновить. А, но здесь тоже не так всё сработало, потому как были свои определённые нюансы в том, что если я добавляю здесь а номер колонки, да, то есть он у меня не полностью здесь выгружался, но какие-то такие проблемы. Поэтому а здесь система будет выглядеть следующим образом. То есть мы после ноды merch добавляем ещё одну ноду set name row idляем item index + 2. То есть это нужно, чтобы он Когда мы мы здесь вставим row id, так здесь не забываем include other input files добавить. Так вот, данный данная сет нам нужна для того, чтобы когда мы подключали row id, у нас же не не будет видно, а, ну, то есть здесь он отображает row id, но мы его как бы перетащить, соответственно, не можем, потому что он отображается только в shes. Соответственно, нам приходится выкрутиться таким образом, чтобы в edit files добавить данный данную колонку и перетащить её. Но перетаскивать нужно не эту, соответственно, а row ID, то есть то, что мы добавили сюда. Вот таким образом это выглядит. И теперь давайте проверим Вот у меня здесь SKU себестоимость. Нажмём перенестись. И оно как раз-таки вот всё перенеслось. На этом видео подходит к концу, поэтому всем спасибо, кто смотрел. Всем пока.